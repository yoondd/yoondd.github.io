## SQL 인스턴스

인스턴스가 바로 하나의 ==계약==을 말한다

인스턴스를 2개 만들면 계약이 2개다

postgres로 선택

샌드박스: 가지고 놀때..

개발: 일반적인 개발

프로덕션: 실제로 사용해야하니까 좀 좋은거다


당연히 사양이 좋으면 비싼데, 우리는 샌드박스를 이용해서 간단하게 쓰면된다





## 옵션선택은 매우 중요!

Enterprise - 저렴한 plus가 아닌 Enterprise으로 선택

우측 예상 가격에서 확인 가능
- 하루 비용을 x30일해서 비용 예상 가능


#### 인스턴스 ID

인스턴스 id는 쉽게 말해서 계약 ID다.

소문자 숫자 하이픈만 사용해라


### 리전

가까운 ==서울==로 (아이오와 너무멀어서..)


### CPU랑 RAM선택하기

가격을 낮추기위해 지정하자.

#### 숨어있는 것들을 찾아서 조정

==SSD== - HDD 를 보니까 가격차이가 거의 없다

그러면 SSD를 쓰면된다


#### 저장용량 자동증가는 해제

자동증가되지않도록 수정




### 연결 설정

내가 db도 만들고 web도 빌렸다면 그들이 모두 하나로 소통을 해야만 한다

이같이 하나로 소통할 수 있는 영역을 만드는건데 VPC라고 한다

따라서 이들이 소통할 수있도록 IP를 받아야하는데

그렇게 할 수 있도록 받는것이 바로 ==비공개IP==이다

비공개 아이피로 먼저 체크하고, 그다음 공개IP도 체크해주면된다

(시간이 좀 걸린다 - 우측에 뜨는 것에 "연결만들기" 설정)



공개 ip에 우리는 들어가야하니까,

학원 - 이라고 하고, 내 아이피를 넣고 `1.215.36.250/32` 이렇게 입력하면된다

여기 나온 아이피는 네이버에서 검색한 내 아이피이다


### 데이터 보호

여기서는 자동 일일백업 하지말고

인스턴스 삭제방지 풀어라



---

# 임차인을 구해볼까~? - 사용자

db를 사용하기에 앞서 사용자부터 추가해야한다. 

데이터베이스 만들때 유저 이름과 동일하게 만드는 것을 잊지않았겠지!




### 공개 아이피 주소

공개아이피주소를 잘 긁어다가 데이터그립에서 접속해본다

당연히 `application.yml` 파일도 수정해줘야지~



## 아이피 뚫어주기

연결에 들어가서 "승인된 네트워크"에서 들어가야한다

사이다표기법으로 32입력해서 풀어주면된다. (해당 아이피를 풀어주면된다)

예를들어 카페같은데 가서말이다


### 필요없는 인스턴스는 삭제하기

삭제해버리면 훨씬 효율적이다


---


