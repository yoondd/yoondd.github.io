
# 포트포워딩

우선 공유기에 대해 알아야하거든?
그래야 포트포워딩을 이해할 수가 있어. 그래서 따로 정리해봤어. 잠깐 먼저 읽고와바.

[[공유기와 허브]]

자, 위 글을 읽었다면 아마 공유기(공구맘)이 어떤 역할을 해야하는지 알았을거야.


```
공구맘
 ├── 3번
 ├── 5번
 └── 17번  ← 방화벽을 해제하고 10000번 포트 접근을 허용함. DB서버를 만들었다
```

자, 이경우에 바깥에서 들어오면 바로 17번 찾을 수 있어?
안돼 절대 못찾아와. 바깥에서 보면 공구맘만 보이거든.

즉, 외부아이피를 치면 공구맘한테 오는거란말이야.
외부아이피:10000으로 아무리 해봐야 갈수가 없어. 절대절대.

>도커로 컴퓨터 내부에 컨테이너들을 띄울 수 있다
>외부 포트와 내부포트를 연결하자나 - 네트워크 브릿지 -- 오 이개념이랑 비슷한건 바로 아래에 나와
>그거에 대한 내용을 말하는거야. 

이거랑 되게 비슷하지않아?
자, 바깥에서 이제 17번한테 들어오게 하면 어떻게 해야하는지 생각해보자.
회원끼리는 소통이 되잖아. 3번에서 5번, 5번에서 17번등으로 연락을 할 수는 있다는거야.
자기들끼리는 번호를 알거든. 그리고 외부에도 접근할수가 있어.

*3번회원이 공구맘한테 "저 198.168.0.17번한테 연락하고싶은데요?" 말하자 공구맘이 "잠깐만, 오 그거 우리 회원맞아. 내가 소개시켜줄게" 라고 답하고 소개해줄 수 있다. 또, 5번회원이 "저 123.5.5.1하고 연락하고 싶은데요?" 라고 말하자 공구맘이 잠시 찾아보다가 "아니, 그건 우리 회원이 아니네. 외부에서 내가 찾아다가 소개시켜줄게"라고 말하며 도와준다.*

즉, 내부 아이피는 외부에도 내부에도 접근할 수 있다는 소리다.
그러나 외부에서는 내부 회원들에게 접근할수가 없다.

자, 공구맘이 좀 더 똑똑해야해.

*외부에서 누군가가 "공구맘님 10000번으로 접근좀 하겠습니다"라고 했을 때, 공구맘이 "10000번? 그러면 17번으로 연결해줘야겠다"라고 리스트를 보면서 응답할 수가 있다.*

오, 이거 네트워크브릿지랑 똑같은 개념이네. 바로 이게 필요하다. ==공유기 포트포워딩==말이다.

이게 있어야만 집에서 서버를 운용할 수 있다는 말이다.
