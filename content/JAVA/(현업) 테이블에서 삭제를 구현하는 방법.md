
## 현업에서의 삭제는?

무서운것이기때문에 함부로 구현하지않는다. 

### cascade
절대 쓰지말아라. 연쇄적으로 다다다다다다- 삭제가되므로 너무나 위험하다



안산 하수구 설계와도 같이 복잡한 현업의 DB설계 상황에서 어떻게 데이터베이스를 삭제하나?


---


> 사례1. 자동차데이터 제조사, 모델, 등급, 세부등급으로 되어있을 때, 계약데이터는 모델에 들어가있다. 세부등급이 너무 많아서 모델에 걸려있다. 또 계약은 고객에 걸려있고, 고객은 견적과 걸려있다. 추가로 계약은 캐피탈과 걸려있다. 또 출고와도 걸려있다. 여기서 모델 하나가 단종되었을 경우, 해당 모델을 삭제해야할까?


#### 첫번째 방법, 테이블 내에서 관리

최초에 설계할 당시에 isView를 넣어서 default값을 true로 넣는다. 모든 데이터에 활성화되어있는지의 여부를 확인하는거다. 삭제를 하는 것이 아니라 isView를 false로 만들면된다. 


#### 두번째 방법, 휴지통으로 옮긴다

1 -> 2 -> 3
 -> 5 -> 4 -> 3
 -> 6

이런형태로 되어있을때, 6번이나 3번은 옮겨도 되지만 1번이나 2번 이런건 옮기는거 자체가 불가능한다. 그러므로 휴지통방식은 웬만하면 사용하지않는다. 설계를 진짜 잘해야하니까 - 불안함이 있다
그리고 설령 이 방식을 활용하더라도 *프로시저*로 써야한다. 애초에 백엔드 역할은 데이터베이스 관리다. 








