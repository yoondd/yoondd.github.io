메인테이블 - 히스토리테이블 뿐 아니라 다른 테이블에도 작업이 필요한 상황.

DI가 너무 복잡해지는 상황이 발생한다

DI가 너무 얽히고 섥히면 결합도가 너무 올라가게 되고, 

일하는 놈(대가리)들이 너무 많아지니 오버헤드가 발생한다.


예를 들면, 포인트를 샀다.

1. 포인트 테이블 내용 수정필요
2. 멤버테이블에 현재 포인트 변경
3. 포인트 히스토리 수정필요

이렇게 여러개의 변화가 일어날 때, 

1. 회원 존재 여부 확인
2. 포인트 넣기..
3. 정상적으로 들어가면 히스토리에 넣고..
4. 회원정보도 수정해주고..

이와같이 많은 일들이 발생하는 것이다. 

왔다갔다하면서 확인할 수 밖에 없는데, 이런경우에는 굉장히 시간이 많이 발생한다.

이 사태를 어떻게 우리가 해결할 수 있을까?



야! 해줘! 하면 db에서 다 알아서 처리해주면 어떨까?

이때 sql를 함수처러 묶은 것을 우리는 **프로시저**라고 한다.

서비스에서는 그저 해줘.라고만 하면 된다는 말이다.

db가 알아서 가공해서 줄 수 있다는 말이다. 오버헤드도 당연히 줄어들고말이다.

즉, 실무에서는 ==CRUD를 JPA로 다 구현하지않고, 프로시저를 쓴다==

프로시저 사용에 대한 부분은 반드시 이해하고 넘어가야한다는 소리다

회사에서는 묶어서 프로시저라고 말을 할 수 있는데, 뷰테이블에 대한 부분은 사실 별도다


## 프로시저와 뷰테이블 

프로시저: 메서드. 뭐 주면 이렇게 해줘. 일해주는 아이

뷰테이블: 보기 전용 테이블이다. 가상의 테이블을 만든다. 왜만드냐고? join-join-join-join해서 볼려면 매번 번거롭잖아. 그러니까 테이블 있는 척해서 보는것이 편하지 않겠냐고. 그래서 이 테이블에서 select문도 쓸수있다면 개이득이겠네. 물론 R전용이야. C나 U가 안돼.

반대로, C,U,D는 프로시저로 만드는 거야. 프로시저로 R하면 안돼! 


