### 데이터베이스에서 인덱스란 무엇인가?

테이블이 있는데, 빠르게 찾기위해서 정렬을 잘 해야한다.

인덱스의 목적은 하나다. "빠르게 찾기" 

미리 어디에 줄서있어야하는지 정해놓는다는 것이다.


즉, pk, uk 를 가진 테이블을 생성하면

미니 테이블이 생기면서 pk기준으로 쭉, uk기준으로 쭉. 이렇게 테이블이 생성된다.

다시말하면 너무 많이 만들면 그만큼 테이블이 엄청나게 생기는 것이기때문에 효율적이지 않다.



### Like와 혼용하지말기

인덱스 자체가 나쁜 것은 아니야. 근데 줄세워두고 정확히 너! 하는 것들을 가져올때 좋은거야.

비슷한게 like검색이 있는데, 이거는 너 일치하니? 일치하니? 이렇게 검색하는 상황에선 인덱스가 어울리지않는다는 것이야

게시판에서 제목검색같은걸 쓰잖아. 그렇다고 인덱스를 써? 

그건 아니야, String은 기본적으로 형식도 없잖아. 이런거에 인덱스 걸면 절대 안돼

그리고 실무에서는 아무리 많이 걸어도 인덱스는 한테이블에 5개까지야.

진짜 신중하게 걸어야하는거야. 진짜 조심해야돼. --중요!!




### 자바에서 index를 거는법?

엔티티에서 걸면된다

```java
@Entity
@Table(indexes = { 
		@Index(name = "idx_product_type", columnList = "productType" ),
		@Index(name = "idx_name", columnList = "name")
})
@Getter
@Setter
```

어노테이션을 일단 추가해. @Table말이야

인덱스는 하나 이상이니까 저렇게 xes 복수형이야

이처럼 넣어주면되는데, 다시말하지만 string인 name같은건 걸면안돼. 그냥 샘플로 보기만 하라고 해두신거야. 

근데 왜 columnList인가? 그냥 column이면되는것이 아닌가?

응 아니쥬.

여러개를 묶어서 index걸수도 있잖아.




### 여러개 묶어 index 거는법?

```java
@Entity
@Table(indexes = {
		@Index(name = "idx_product", columnList = "productType, name")
})
```

뒤에 columnList 는 알아서 팟홀 케이스로 변경될거니까 걱정마

이같이 넣으면 대장은 productType이야. 이거 그러니까 순서가 되게 중요해.

순서 바뀌면 진짜 엄청난 비효율이 될 수가 있어. (성능차이가 커)

