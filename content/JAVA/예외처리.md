
일단 공부를 위해, 탕비실 엔티티와 레파지토리를 만들어뒀다.

자, 여기서 가장 중요한 것은 "수정"기능이겠지.



## repository 수정하기

뺄때는 soldout되지않은 것 중에, 날짜 기준으로 정렬해서 가장 오래된 것을 삭제하면 되겠네.(ASC)

즉, name은 똑같은 이름이 있을 수도 있네. 없을 수도 있고.

```java
public interface TestStockRepository extends JpaRepository<TestStock, Long> {  
    //select * from test_stock where name = ? and is_sold_out = ? order by date_in  
    Optional<TestStock> findFirstByNameAndIsSoldOutOrderByDateIn(String name, boolean isSoldOut);  
}
```

놀랍다... 

그러니까, sql문은 이렇게 생겼거든?

`select * from test_stock where name = ? and is_sold_out = ? order by date_in`

근데 이걸 이렇게 표현한거야!

`Optional<TestStock> findFirstByNameAndIsSoldOutOrderByDateIn(String name, boolean isSoldOut);`

Optional을 쓴 것은 있어도 되고, 없어도 되니까 쓴거고.

나머지는 내용을 받아서, 

이름으로 찾고, soldout조건도 걸고, 그걸 날짜순으로 정렬해서 오름차순으로 만든다음에 가장 위에꺼를 가져오겠다는 소리라니까?


