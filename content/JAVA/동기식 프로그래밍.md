http는 기본적으로 동기다.
동기식 프로그래밍이다. 

비동기 - 통신

Socket 통신


## Socket통신 & http통신

http통신은 요청하면 ==응답하고 끝.==  - 이게 일반적인 http통신이다

socket통신은 단어부터가 벌써 "구멍"을 말한다.

담벼락에다가 구멍뚫어두면 좋아하는 사람을 몰래 볼 수 있 듯이, 구멍을 뚫어놓고 계속 왔다갔다 하는 것을 말한다. 

즉, http통신과는 달리 계속 연결이 되어있다는말이다.


http통신은 리턴이 1개잖아. 응답은 한번이니까. - 그러고나면 끝이야.

그러니까 socket을 이용하려면 개구멍을 뚫어놔야한다는 소린데,

포트의 개념이 무엇이냐, 바로 길을 말한다.

application yml파일에 pool사이즈가 10이라고 되어진 이유는 10명이상은 db를 사용하지못한다는 말이다

일할 수 있는 수용 인원, 즉 최대 일꾼수를 말하는 건데.

갑자기 왜 풀얘기가 나왔는지 모르겠지만...

회사 입장에서는 풀 사이즈를 적게 가면서 수용인원을 많이 하려면 - 코드를 효율적으로 짜야한다는 소리다

빨리빨리 풀 반환을 해야한다는 소리다


그러면 http통신은 10명까지 동시접속 된다는 것인가?

그건 아니다. db에 접속하는 것은 백엔드이다. 



자, 이걸 이해하기 위해서는 쿠버네티스를 이해해야한다

만명을 수용할 수 있는 서버를 사서 서비스를 했는데, 흥했다. 그래서 물리적인 서버를 여러개 구매했다. 근데 사업에 문제가 생겨서 장비가 남게된 것이다. 그러면 회사측에서 엄청난 손실이라고 볼 수 있다. 그때 바로 쿠버네티스를 쓰기 시작한 것이다. 컨테이너의 장점이 똑같은걸 여러개 찍어줄 수 있고, 필요없으면 갖다 버릴 수가 있잖아. 바로 쿠버네티스가 컨테이너들을 조율하는 애라고 보면 된다. 즉, ==오토스케일링==. 필요에따라 사이즈를 늘이고 줄이는 일을 할 수 있다는 소리다. 

api서버는 db에 접근하는애다. 이를 컨테이너에 담는다. 컨테이너가 실행되면 pool하나 먹는다. 그리고 컨테이너가 꺼질때까지는 pool을 잡고있는 것이네. 

일반적으로 회사에서는 컨테이너를 두개 올린다. 그리고 배포할때 ==블루그린배포==라는걸 사용해서 배포한다. 기존 코드는 소스코드 변경되면 껐다켜서 배포해야하는데, 지금 이 배포법을 사용하면 하나의 컨테이너만 업데이트 시켜서 쓸 수 있다는 소리다. 서비스 끊김없이 점차적으로 업데이트를 지속사용할 수 있다는 소리다. 이게 바로 쿠버네티스의 가장 중요한 부분이라고 생각하면 된다.

프로그램을 만들어봐야 나혼자밖에 못쓰면 그건 프로그램이라고 볼 수가 없다. 결국에는 사람들이 써야하는거니까 이를 반드시 이해해야한다. 



자, 사람들이 많이 들어오면 클라우드 서비스에서는 부하가 많이 걸리면 복제를 하게끔 만들수가있다. 이게 바로 오트스케일링이다. 내가 설정한 pool까지 사용가능하다는 말이다. 






