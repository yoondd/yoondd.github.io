선생님 수업영상 참고

***설계에는 정답은 없지만 ==최선==은 있다***

# 컨셉잡기
구두를 사면 고객 등록을 하고, 포인트까지 적립할 수 있다.
내 구두가게를 관리하기위한 프로그램을 만든다

- 고객정보
- 고객 구매내역
- 고객 포인트 적립내역

등이 필요하다.


# 엑셀파일 만들기
시트 하나당 테이블 하나다

## 고객정보 테이블
고객명, 연락처, 포인트, 구매물품, 구매금액(필요한 정보)을 담은 테이블을 하나 만든다
샘플 데이터도 입력해본다

![](https://i.imgur.com/TvlRGlv.png)


이렇게하면 문제가있다. 홍길동이 동명이인이면 어떡해?
포인트는 또 왜 줄어들었어..
구두1이랑 구두1이 같은건지 다른건지 또 알수가 있어? 이름만 같을수도 있잖아. 

모든 기능을 한테이블에 때려넣으니까 관리가 잘 안돼. 
판매 내역도 관리해야하고, 고객 포인트를 사용할 수 있게도 만들어야하는데 이렇게 한데 모아서 처리하니까 너무 불편해.



## 👍🏻이제는 최선으로 만들어보자


### 고객 테이블


![](https://i.imgur.com/tifznvk.png)

여기서 동명이인인 홍길동을 어떻게 부르는게 좋을까? 연락처로 부르기에는 너무 길어.
그러니까 사람을 대언해줄 아이디가 있으면 정말 좋겠다.

![](https://i.imgur.com/U17tjV6.png)

신경을 쓰나 안쓰나 .. 알아서 1씩 증가하는 아이디가 존재하면 참 좋겠구나.
아이디를 우리는 ==시퀀스==라고 부른다. 줄을 구분할 수 있는 유일한 번호인 셈이다.
아이디는 ==id==이자 ==시퀀스==이자 ==pk==이다.
내가 죽은 후 다른 사람은 태어나겠지. 그렇다고 내 주민등록번호를 훔쳐가는건아니잖아.
그러니까 데이터가 삭제가된다하더라도 죽은 애 번호를 삽입될 데이터가 가져가지는 않아.
(4번이 죽고나서도 삽입되는게 4번은 아니야. 5번이지)


![](https://i.imgur.com/yBXprsU.png)

가입일까지 관리하는게 좋을 것 같아서 일단 추가해놓고, 넘어가자.



### 판매물품 테이블

자, 판매물품으로 넘어가볼까? 
![](https://i.imgur.com/SIfYeji.png)

#### 어?! 이걸 왜 구분하지? 왜 별도로 분리했지?
물품명을 수기로 다 그때그때 작성한다면, 통계내기가 너무 불편해
판매물품에 대한 통계를 분석하는 것도 중요하기때문에 별도로 분리하지.


### 포인트 테이블

![](https://i.imgur.com/T7ykmkB.png)


절대 겹치지않는 고객 id를 잡아서 포인트를 따로 관리하는게 좋겠네.
여기서 고객id는 ==pk==라고 할 수 있네.  왜냐면 절대 안겹치잖아
근데 외래키 이기도해. ==fk==. 내거인듯 내꺼아니라서.



### 판매내역

이번에는 어떤 고객이 무얼샀느가를 말하면 되겠네.
여기서 pk는 다른데서 참조할게없어. 그냥 내 스타일대로 가면돼.
왜냐면, 한 고객이 어러개를 살수도 있으니까.

![](https://i.imgur.com/WwTKSkr.png)




여기 금액을 넣는건 좀 비효율적인것같아. 그거는 어차피 판매물품쪽에 뭔가가 있으니까 거기서 잡아와서 하면 될 것 같아. 

