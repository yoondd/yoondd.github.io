수업일자: 2025-05-27

redux - 중앙 상태 관리


## spa의 특징

spa계열들은 한페이지 내에서 새로고침없이 필요영역만 수정한다. 

그 때문에 각 컴포넌트마다 라이프사이클이 존재한다. 

물리적으로는 pages라고해서 각 페이지를 나눠서 작업한다.

V-DOM -> DOM 으로 전환할때 snapshot을 찍는다. - 변화감지. - Spa 완성된다

V-DOM은 따라서 spa의 핵심

물리적으로 pages로 나눠도 snapshot덕분에 한페이지에서 교체가 되는 형식으로 동작 가능



## 상태를 왜 값이라고 부를까?

상태는 항상 "변한다".

값도 늘 변하니까, 따라서 상태를 값이라고 볼 수 있다.



## redux는 그러한 값을 중앙에서 관리하겠다고한다

spa계열은 모든 것이 컴포넌트라고 부른다

페이지 조차도 컴포넌트라고 부른다

컴포넌트는 ==반복하고 재사용해낼 수 있다==는 아주 중요한 특징이 있거든. 

프론트 특징상 코드의 양이 너무 많은데, 그 코드를 줄일 수 있잖아. 좋다.

(플러터에서는 위젯-컴포넌트역할-을 이용한다)

결국 레고처럼 컴포넌트를 조립하게 된다.



## 컴포넌트에서는 props와 bind 개념이 등장한다

컴포넌트의 이 개념은 필요하면, 바친다.

값을 전달하려고할때 props/bind.... 이것들이 계속 반복하게된다

너무 불편하고 힘든 작업이다

리덕스를 사용하면 props/bind가 확실히 줄어들게된다.

그래서 리덕스를 필수적으로 사용한다



## 그렇다고 모든 걸 다 store에 넣으면안돼.

최소 2페이지에 같이 쓰는 값정도만 넣어두기로하자. (권장)

모두 때려넣으면 메모리가 꽉차....



---



## 왜 api호출도 redux에서 해야하는거죠?

결국 컴포넌트 내에서 api호출을 하는데.

httpclient를 전량 교체해야하는 상황이 나왔을 때, 각각의 컴포넌트에 들어가서 할 수는 없잖아. api호출상 같은 api를 2번 호출하는 상황도 있잖아. 중복이지. 

그때, redux안에 백엔드 갔다오라고 행위를 정해버린다.

slice를 다 나눠놨잖아. 그 구역마다 행위를 정해서 만든다.

만드는건 한번이다. 유지보수는 오래오래 하잖아.



- 응집도는 높아지고,  결합도는 낮아진다


컴포넌트안에 api연동코드를 넣게되면 응집도가 낮아지고, 결합도가 높아진다.


