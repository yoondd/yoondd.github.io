컨테이너 기반으로 돌아간다
각각의 컨테이너 내부에 포트가 있다  = 각 컨테이너에 OS가 베이스로 있다는 소리.
*포트를 관리하는건 OS다*


# 이미지 image
docker의 이미지는 CD라고 생각하면된다.
어릴 때 해봤던 cd게임처럼 cd한장만있으면 여러개의 게임을 할 수가 있듯이.
docker이미지 하나로 여러개의 컨테이너를 만들 수 있다.


# 컨테이너
컨테이너에는 아주 경량화된 리눅스를 가지고 있다.
OS라는 개념이 있다는 말이다.
당연히 포트라는 개념도 있어서 고객을 받는행위(서비스)가 가능하다
번호보고 찾아가면되니까.

3개의 컨테이너가 있다. 
각각에는 postgres가 설치되어있고, 각각의 컨테이너에 모두 5432포트를 이용해 postgres를 이용해서 db를 사용할 수 있다.
그런데 모두 5432를 이용해서 접속이 가능한데, 그냥 5432라고만 입력하면 어디로 접속하려고하는지 알수가없잖아.

![](https://i.imgur.com/7CWc4xs.png)

이 때, 우리는 10000번으로 들어오면 0번째 컨테이너의 5432로. 10001번으로 접속하면 1번째 컨테이너로.. 라는 식으로 지정할 수 있다. 
이 때, 10000번을 우리는 ==호스트포트== 라고 말하고, 내부의 5432을 ==컨테이너포트==라고 칭한다. 
이 것들을 서로 매핑해야만 정확하게 항구를 찾아갈 수 있게 말들 수 있다. 

## 네트워크 브릿지
호스트포트와 컨테이너포트를 서로 연결해주는 작업을 말한다. 잘 찾아갈 수 있게 매핑해주는 작업말이다. 


# 컨테이너의 좋은점?
개발환경세팅은 기본이고 ==격리성==이 보장된 다는 것이 가장 큰 혜택이다
문제가 발생하는 경우 해당 컨테이너만 폐기하면 된다.

1. 협업하는 모든 개발자들의 개발환경을 정확하게 맞출 수 있다
2. mysql을 각자 설치해서  background로 실행하면 메모리가 많이 소모된다. 하지만  docker를 사용하면, 컨테이너를 그냥 날리면되니까 작업이 훨씬 효율적이다
3. 여러개의 프로젝트를 동시에 하는 경우, 테스트를 위해서 간단히 협업자들에게 컨테이너만 제공하면된다. 


# 쿠버네티스
쿠버네티스 - 컨테이너를 조율해주는 것인데, 도커 기반이다.
나중에 도커를 확장해서 쿠버네티스로 넘어가면된다. 


# 포트
포트는 마치 ==항구==와 같다.
OS는 포트를 관리하지


# 배포 
배포가 무엇이냐. 서비스 오픈이다.  (전단지 배포처럼말이다.)
우리가 만드는 서비스도 오픈을 해야한다. 



# docker hub
이미지 공유할 수 있는 곳. 
- 필요한 것들이 있다면 검색해서 들어가 가이드를 확인해라
- 친절한 설명과 함께 버전정보가 나와있을 것이다.
- 최신 버전을 사용하지마라. 안정성이 부족하다 - 웬만하면 최신버전보다는 그 전버전을 사용하는 것이 좋다. (특히 데이터베이스같은 경우.더하다)

우리는 예제를 해보면서 postgres 이미지를 다뤘다
[[데이터베이스 생성시 username과 db이름을 같게 하는 이유]]
[[username을 지정할 때]]


이어지는 강의, *그래서 우리가 해본 예제를 한번 볼까?*
[[Docker 명령어를 이용해 컨테이너 만들기]]



---

- 오늘은 docker를 리눅스에 설치했다. (검색어: ubuntu 22.04 docker install)
- sudo명령어 없이 작동하는 것도 했다.
- 앞으로는 db 올리세요. 이렇게하면 알아서 docker를 켜서 올려야한다. 



 